download_raw_data:
  cmd: python ../src/download_raw_data.py --url https://cloud.beuth-hochschule.de/index.php/s/MBfP8MnRY395J2F/download
    --path data --filename raw_data.csv --zip-filename raw_data.zip
  deps:
  - path: ../src/download_raw_data.py
    md5: ad0356e1de8de5b7d48159dcc5af96be
  outs:
  - path: data/raw_data.csv
    md5: adbdc2da4c6c1e1e58e33ed9398e4281
  - path: data/raw_data.zip
    md5: a004b5f8fb0014520067685d075170d4
validate_data:
  cmd: python ../src/validate_data.py --raw-data-csv data/raw_data.csv --validated-data-csv
    data/validated_data.csv
  deps:
  - path: ../src/validate_data.py
    md5: 5a0b91ed9423b89b288c6792a6e789e9
  - path: data/raw_data.csv
    md5: 1491c4fe45ba626c5c597d3dfab49c84
  outs:
  - path: data/validated_data.csv
    md5: 565289d019ff4421df32e72d84e0cfd5
split_data:
  cmd: python ../src/split_data.py --validated-data-csv data/validated_data.csv --train-csv
    data/train.csv --test-csv data/test.csv
  deps:
  - path: ../src/split_data.py
    md5: 6ec95fcb20c70e058a7ed7c1d462a8c4
  - path: data/validated_data.csv
    md5: 565289d019ff4421df32e72d84e0cfd5
  params:
    params.yaml:
      split_data.random_state: 42
      split_data.test_size: 0.2
  outs:
  - path: data/test.csv
    md5: adbdc2da4c6c1e1e58e33ed9398e4281
  - path: data/train.csv
    md5: afd69497f12486e838f1d916f0354a2a
train_keras:
  cmd: python ../src/kerasLSTM.py --train-data-csv data/train.csv --test-data-csv
    data/test.csv --model-name model.onnx
  deps:
  - path: ../src/kerasLSTM.py
    md5: cb38ac91556834a6a31347d4e9f10ec9
  - path: data/test.csv
    md5: adbdc2da4c6c1e1e58e33ed9398e4281
  - path: data/train.csv
    md5: afd69497f12486e838f1d916f0354a2a
  params:
    params.yaml:
      train_keras.batch_size: 32
      train_keras.embed_size: 128
      train_keras.epochs: 1
      train_keras.max_features: 2000
      train_keras.max_len: 200
  outs:
  - path: metrics/metrics.json
    md5: 23351f3fde72fde97323d1d6b563407e
  - path: metrics/prediction.csv
    md5: 202d4a4808c8ba47d986531ab47fc884
  - path: model/model.onnx
    md5: e4f87385701e1d0935b8c82029c00d1d
